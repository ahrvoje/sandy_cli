# Sandy — AppContainer Config Template
# ============================================================
# AppContainer is the default sandbox mode. It provides kernel-enforced
# isolation with network control and object namespace isolation.
# Named pipe creation is blocked (kernel restriction).

[sandbox]
token = "appcontainer"

# ============================================================
# ACCESS — File and folder grants
# ============================================================
# Grant the sandboxed process access to specific folders or files.
# Use single quotes for Windows paths (no backslash escaping needed).

[access]
# read = [
#     'C:\data\config.json',          # single file
#     'C:\Python314',                 # entire folder (recursive)
# ]
# write = [
#     'C:\logs\agent.log',            # single log file
#     'C:\temp\output',               # output folder
# ]
# execute = ['C:\tools\bin']          # execute-only (no read)
# append = ['C:\logs\audit.log']      # append-only (no overwrite)
# delete = ['C:\temp\scratch']        # delete-only
# all = ['C:\workspace']              # full access

# ============================================================
# PERMISSIONS — Opt-in capabilities
# ============================================================
# Everything is blocked unless set to true.

[allow]
system_dirs = true   # read C:\Windows, Program Files (required for most executables)
# network = true     # outbound internet access
# localhost = true   # loopback/localhost connections               (admin required)
# lan = true         # local network access
# stdin = false      # block stdin (redirect to NUL)

# NOTE: pipes is not available in AppContainer mode.
# Named pipe creation is a kernel-level restriction of AppContainer.
# Use token = "restricted" in [sandbox] if your app needs named pipes.

# NOTE: [registry] section is not available in AppContainer mode.
# AppContainer provides a fixed private registry hive automatically.

# ============================================================
# ENVIRONMENT — Control inherited variables
# ============================================================
# By default, all parent env vars are inherited.

[environment]
# inherit = false                         # don't inherit parent env vars
# pass = ['PATH', 'PYTHONPATH', 'HOME']   # specific vars to pass through

# ============================================================
# RESOURCE LIMITS
# ============================================================
# Constrain resource usage. Comment out for unlimited.

[limit]
# timeout = 300      # kill process after N seconds
# memory = 4096      # maximum memory in MB
# processes = 10     # maximum concurrent child processes
